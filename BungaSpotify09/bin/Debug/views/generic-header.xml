<?
function make_album (album, size)
?>
<hbox minHeight="${size}" width="100%" padding="12,12,12,12">
	<vbox width="${size}">
	<img src="${album.Image}" width="${size}" height="${size}" uri="${album.Uri}" />
	<box flex="1"><text></text></box>
	</vbox>
	<playlist flex="1">
		<link uri="${album.Uri}" fontSize="10" fontWeight="bold" height="35">${album.Name} (${album.Year})</link>
	
		% for track in enum(album.Tracks) do
		<track 	uri="${track.Uri}" />
		% end
		% if album.Copyright then
		<text fontSize="8" fgcolor="#4a4a4a">${album.Copyright}</text>
		% end
	</playlist>
</hbox>
<?

end

function enum(o)
	local e = o:GetEnumerator()
	return function()
		if e:MoveNext() then
			return e.Current
		end
	end
end
?>